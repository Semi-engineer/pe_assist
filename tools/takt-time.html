<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>PE Ops Studio • Takt Time Calculator</title>
  <meta name="description" content="คำนวณ Takt Time สำหรับการวางแผนกำลังการผลิตตาม Customer Demand" />
  <link rel="icon" type="image/svg+xml" href="../assets/favicon.svg" />
  <link rel="stylesheet" href="../assets/styles.css" />
  <script defer src="../assets/main.js"></script>
</head>
<body>
  <div id="site-header"></div>
  <main class="container section">
    <h1>Takt Time</h1>
    <p class="lead">เวลาที่ควรผลิตต่อชิ้น = Available Time / Customer Demand</p>

    <div class="card">
      <div class="grid grid-4">
        <div><label class="label" for="avail">Available Time (min/shift)</label><input id="avail" class="input" type="number" value="450" title="Available Time in minutes per shift" placeholder="e.g. 450"/></div>
        <div><label class="label" for="break">Break (min/shift)</label><input id="break" class="input" type="number" value="30" title="Break time in minutes per shift" placeholder="e.g. 30"/></div>
        <div><label class="label" for="demand">Customer Demand (pcs/shift)</label><input id="demand" class="input" type="number" value="800" title="Customer Demand in pieces per shift" placeholder="e.g. 800"/></div>
      </div>
      <div class="mt-3">
        <button class="btn" id="calc">Calculate</button>
        <button class="btn secondary" id="reset">Reset</button>
      </div>
      <div class="grid grid-2 mt-4">
        <div class="card"><h3>Takt Time</h3><div id="takt">-</div></div>
        <div class="card"><h3>Target Output (pcs/hr)</h3><div id="tph">-</div></div>
      </div>
    </div>
  </main>
  <div id="site-footer"></div>
  <script>
    const $=id=>document.getElementById(id); 
    const f2=x=> Math.round(x*100)/100;
    const qsa = sel => Array.from(document.querySelectorAll(sel));
    
    function calc(){
      const avail=(+$('avail').value||0) - (+$('break').value||0);
      const demand=+$('demand').value||0;
      const takt = demand? (avail*60)/demand : 0; // sec/pc
      const tph = takt>0? (3600/takt):0;
      $('takt').textContent = f2(takt)+' sec/pc';
      $('tph').textContent = Math.floor(tph)+' pcs/hr';
    }
    $('calc').addEventListener('click', calc);
    $('reset').addEventListener('click', ()=> qsa('.input').forEach(i=>i.value=''));
  </script>
  
  <script>
    const repo = "pe-ops-studio-dark-tech-dashboard-v3";
    const base = window.location.pathname.includes(`/${repo}/`) ? `/${repo}/` : "/";

    fetch(base + "partials/header.html")
      .then(response => response.text())
      .then(data => {
        document.getElementById("site-header").innerHTML = data;
      });

    fetch(base + "partials/footer.html")
      .then(response => response.text())
      .then(data => {
        document.getElementById("site-footer").innerHTML = data;
      });
  </script>

</body>
</html>