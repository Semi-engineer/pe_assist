<!DOCTYPE html>
<html lang="th">
<head><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/><title>Performance Efficiency</title>
<link rel="stylesheet" href="css/style.css"><script src="https://cdn.tailwindcss.com"></script></head>
<body class="bg-slate-50">
<header class="bg-white shadow p-4"><div class="container mx-auto"><a href="index.html" class="text-sky-600">← กลับ</a></div></header>
<main class="container mx-auto p-4"><div id="perf-root"></div></main>

<script src="https://unpkg.com/react@18/umd/react.development.js" crossorigin></script>
<script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js" crossorigin></script>
<script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

<script type="text/babel">
  function Performance() {
    const [actual, setActual] = React.useState(45);
    const [standard, setStandard] = React.useState(50);
    const pe = React.useMemo(()=> standard>0 ? (actual/standard)*100 : 0, [actual, standard]);
    const clamp = ()=> { if(actual<0) setActual(0); if(standard<=0) setStandard(1); };

    return (
      <div className="bg-white rounded-2xl shadow-lg p-6 max-w-xl mx-auto">
        <h2 className="text-2xl font-semibold mb-3">Performance Efficiency (PE)</h2>
        <div className="space-y-3">
          <label className="block text-sm">Actual Output (pcs)</label>
          <input className="w-full p-2 border rounded" type="number" value={actual} onChange={e=>setActual(parseFloat(e.target.value||0))} onBlur={clamp} />
          <label className="block text-sm">Standard Output (pcs)</label>
          <input className="w-full p-2 border rounded" type="number" value={standard} onChange={e=>setStandard(parseFloat(e.target.value||0))} onBlur={clamp} />
          <div className="flex gap-2">
            <button onClick={clamp} className="px-4 py-2 bg-emerald-600 text-white rounded">คำนวณ</button>
            <button onClick={()=>{ setActual(45); setStandard(50); }} className="px-4 py-2 bg-slate-200 rounded">รีเซ็ต</button>
          </div>
        </div>

        <div className="mt-4 p-3 bg-slate-50 rounded">
          <div className="text-xs text-slate-500">Performance Efficiency</div>
          <div className="text-lg font-semibold">{pe.toFixed(2)} %</div>
        </div>
      </div>
    );
  }

  ReactDOM.createRoot(document.getElementById('perf-root')).render(<Performance />);
</script>
</body>
</html>
